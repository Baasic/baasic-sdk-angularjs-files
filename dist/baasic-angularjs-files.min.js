!function(e,t){var a=e.module("baasic.files",["baasic.api"]);!function(e,t,a){"use strict";t.service("baasicFilesRouteService",["baasicUriTemplateService",function(e){return{find:e.parse("files/{?searchQuery,page,rpp,sort,embed,fields}"),get:e.parse("files/{id}/{?embed,fields}"),streams:{get:e.parse("file-streams/{id}"),create:e.parse("file-streams/{path}"),update:e.parse("file-streams/{id}")},batch:{remove:e.parse("files/batch"),update:e.parse("files/batch")},acl:{get:e.parse("files/{id}/acl/{?fields}"),update:e.parse("files/{id}/acl/{?fields}"),deleteByUser:e.parse("files/{id}/acl/actions/{accessAction}/users/{user}/"),deleteByRole:e.parse("files/{id}/acl/actions/{accessAction}/roles/{role}/")}}}])}(e,a),function(e,t,a){"use strict";t.service("baasicFilesService",["baasicApiHttp","baasicApiService","baasicConstants","baasicFilesRouteService",function(t,r,s,n){return{find:function(e){return t.get(n.find.expand(r.findParams(e)))},get:function(e,a){return t.get(n.get.expand(r.getParams(e,a)))},remove:function(e){var a=r.removeParams(e);return t["delete"](a[s.modelPropertyName].links("delete").href)},update:function(e){var a=r.updateParams(e);return t.put(a[s.modelPropertyName].links("put").href,a[s.modelPropertyName])},streams:{get:function(a){return e.isObject(a)||(a={id:a}),t.get(n.streams.get.expand(a))},getBlob:function(a){return e.isObject(a)||(a={id:a}),t({url:n.streams.get.expand(a),method:"GET",responseType:"blob"})},update:function(r,s){e.isObject(r)||(r={id:r});var i=new FormData;return i.append("file",s),t({transformRequest:e.identity,url:n.streams.update.expand(r),method:"POST",data:i,headers:{"Content-Type":a}})},create:function(r,s){e.isObject(r)||(r={path:r});var i=new FormData;return i.append("file",s),t({transformRequest:e.identity,url:n.streams.create.expand(r),method:"POST",data:i,headers:{"Content-Type":a}})}},batch:{remove:function(e){return t({url:n.batch.remove.expand(),method:"DELETE",data:e})},update:function(e){return t.put(n.batch.update.expand(),r.updateParams(e)[s.modelPropertyName])}},acl:{get:function(a){var r=e.copy(a);return t.get(n.acl.get.expand(r))},update:function(a){var r=e.copy(a);return t.put(n.acl.get.expand(r),r[s.modelPropertyName])},removeByUser:function(e,a,s,i){var d=r.removeParams(i);return d.fileEntryId=e,d.user=s,d.accessAction=a,t["delete"](n.acl.deleteByUser.expand(d))},removeByRole:function(e,a,s,i){var d=r.removeParams(i);return d.fileEntryId=e,d.role=s,d.accessAction=a,t["delete"](n.acl.deleteByRole.expand(d))}}}}])}(e,a),function(e,t,a){"use strict";t.service("baasicMediaVaultRouteService",["baasicUriTemplateService",function(e){return{find:e.parse("media-vaults/{?searchQuery,page,rpp,sort,embed,fields}"),get:e.parse("media-vaults/{id}/{?embed,fields}"),streams:{get:e.parse("media-vault-streams/{id}"),create:e.parse("media-vault-streams/{path}"),update:e.parse("media-vault-streams/{id}")},batch:{remove:e.parse("media-vaults/batch"),update:e.parse("media-vaults/batch")}}}])}(e,a),function(e,t,a){"use strict";t.service("baasicMediaVaultService",["baasicApiHttp","baasicApiService","baasicConstants","baasicMediaVaultRouteService",function(t,r,s,n){return{find:function(e){return t.get(n.find.expand(r.findParams(e)))},get:function(e,a){return t.get(n.get.expand(r.getParams(e,a)))},remove:function(e){var a=r.removeParams(e);return t["delete"](a[s.modelPropertyName].links("delete").href)},update:function(e){var a=r.updateParams(e);return t.put(a[s.modelPropertyName].links("put").href,a[s.modelPropertyName])},streams:{get:function(a){return e.isObject(a)||(a={id:a}),t.get(n.streams.get.expand(a))},getBlob:function(a){return e.isObject(a)||(a={id:a}),t({url:n.streams.get.expand(a),method:"GET",responseType:"blob"})},update:function(r,s){e.isObject(r)||(r={id:r});var i=new FormData;return i.append("file",s),t({transformRequest:e.identity,url:n.streams.update.expand(r),method:"POST",data:i,headers:{"Content-Type":a}})},create:function(r,s){e.isObject(r)||(r={path:r});var i=new FormData;return i.append("file",s),t({transformRequest:e.identity,url:n.streams.create.expand(r),method:"POST",data:i,headers:{"Content-Type":a}})}},batch:{remove:function(e){return t({url:n.batch.remove.expand(),method:"DELETE",data:e})},update:function(e){return t.put(n.batch.update.expand(),r.updateParams(e)[s.modelPropertyName])}}}}])}(e,a)}(angular);